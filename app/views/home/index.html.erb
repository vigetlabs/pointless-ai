
<div class="relative flex flex-col h-screen overflow-auto" data-controller="honey">
  <header class="fixed inset-x-0 top-0 flex justify-between gap-24 bg-gradient-to-t from-tertiary/0 to-tertiary">
    <h1 class="flex gap-8 p-16 text-3xl font-black shrink-0 animate-font-bounce text-secondary">
      <img class="w-36 aspect-square" src="<%= asset_path( 'pointy-happy.png' ) %>" />
      PointyAI
    </h1>
    <%= render 'honey' %>

    <div class="flex justify-end">
      <div class="flex text-3xl font-black animate-font-bounce text-secondary">
        <% if current_user %>
          <%= link_to "Sign Out", destroy_user_session_path, method: :delete %>
        <% end %>
      </div>
    </div>
  </header>

  <%# Threaded Conversation %>
  <main class="flex h-full flex-col items-center scroll-smooth scrollbar-default text-lg font-thin leading-10 text-white overflow-auto pb-[196px]">
    <div id="splash">
      <% if messages.empty? %>
        <%= render partial: "splash" %>
      <% end %>
    </div>

    <div id="messages" class="w-full flex flex-col justify-end mt-auto">
      <%= render partial: "messages/message", collection: messages %>
    </div>
  </main>

  <%# User input %>
  <footer class="absolute bottom-0 w-full bg-gradient-to-b from-tertiary/0 via-tertiary/90 to-tertiary/90">
    <%= form_with url: "/messages/reset", id: "input_form", data: {'turbo-frame': 'messages'} do |form| %>
      <div class="flex justify-center mb-16">
        <button class="text-white" data-action="honey#resupply">Clear Session</button>
      </div>
    <% end %>

    <%= render "form" %>

    <div class="py-32 wrapper">
      <%# TODO: prettify %>
      <p class="text-center text-white">A <strong>Pointless Corp.</strong> Production</p>
    </div>
  </footer>
</div>
